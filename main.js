!function(){"use strict";class e{constructor(e){this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}_handleEscClose(e){"Escape"===e.key&&this.close()}open(){this._popup.classList.add("popup_open"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popup.classList.remove("popup_open"),document.removeEventListener("keyup",this._handleEscClose)}setEventListeners(){this._popup.addEventListener("mousedown",(e=>{(e.target.classList.contains("popup")||e.target.classList.contains("popup__close-button"))&&this.close()}))}}class t extends e{constructor(e,t){super(e),this._handleSubmit=t,this._form=this._popup.querySelector(".form"),this._buttonSubmit=this._popup.querySelectorAll(".popup__submit-button"),this._buttonSubmitText=this._buttonSubmit.textContent,this._inputs=[...this._form.querySelectorAll(".form__input")]}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._form.addEventListener("submit",(e=>{e.preventDefault(),this._handleSubmit(this._getInputValues())}))}loadingRender(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"saving...";this._buttonSubmit.textContent=e?t:this._buttonSubmitText}close(){super.close(),this._form.reset()}}function s(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class n{constructor(e,t,n,i,o,r){s(this,"removeCard",(()=>{this._elementContent.remove(),this._elementContent=null})),s(this,"_addEventListeners",(()=>{this._elementImage.addEventListener("click",(()=>this._handeImageClick(this._data))),this._deleteButton.addEventListener("click",this._handleDelete),this._likeButton.addEventListener("click",this._handeLikeIcon)})),s(this,"_getElement",(()=>this._elementTemplate.querySelector(".element").cloneNode(!0))),this._elementTemplate=document.querySelector(n).content,this._data=e,this._text=e.name,this._link=e.link,this._id=e._id,this._handeImageClick=i,this._handleDelete=o,this._userId=t,this._ownerId=e.owner._id,this._likes=e.likes,this._handeLikeIcon=r}getId(){return this._id}getUrl(){return this._link}setLikes(e){this._likes=e,this._elementContent.querySelector(".element__like").textContent=this._likes.length,this.isLiked()?this._likeButton.classList.add("element__button_liked"):this._likeButton.classList.remove("element__button_liked")}isLiked(){return this._likes.find((e=>e._id===this._userId))}createElement(){return this._elementContent=this._getElement(),this._elementContent.querySelector(".element__name").textContent=this._data.name,this._likeButton=this._elementContent.querySelector(".element__like-button"),this._elementImage=this._elementContent.querySelector(".element__image"),this._deleteButton=this._elementContent.querySelector(".element__delete-button"),this._elementImage.src=this._data.link,this._elementImage.alt="Picture of ".concat(this._data.name),this._ownerId!==this._userId&&(this._elementContent.querySelector(".element__delete-button").style.display="none"),this.setLikes(this._likes),this._addEventListeners(),this._elementContent}}function i(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class o{constructor(e,t){i(this,"_toggleInputError",(e=>{e.validity.valid?this._hideInputError(e):this._showInputError(e)})),i(this,"_showInputError",(e=>{const t=this._formElement.querySelector("#"+e.id+"-error");e.classList.add(this._settings.inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._settings.errorClass)})),i(this,"_hideInputError",(e=>{const t=this._formElement.querySelector("#"+e.id+"-error");e.classList.remove(this._settings.inputErrorClass),t.textContent="",t.classList.remove(this._settings.errorClass)})),i(this,"_enableButton",(()=>{this._submitButton.disabled=!1,this._submitButton.classList.remove(this._settings.inactiveButtonClass)})),i(this,"disableButton",(()=>{this._submitButton.disabled=!0,this._submitButton.classList.add(this._settings.inactiveButtonClass)})),i(this,"_toggleButton",(()=>{this._hasValidInputs()?this._enableButton():this.disableButton()})),i(this,"_hasValidInputs",(()=>this._inputList.every((e=>!0===e.validity.valid)))),this._settings=e,this._formElement=t,this._inputList=[...this._formElement.querySelectorAll(this._settings.inputSelector)],this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._toggleInputError(e),this._toggleButton()}))}))}resetValidation(){this._toggleButton(),this._inputList.forEach(this._hideInputError)}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}const r=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}getUserInfo(){return fetch(this._baseUrl+"/users/me",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}getCards(){return fetch(this._baseUrl+"/cards",{headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}editProfile(e,t){return fetch(this._baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}addCard(e,t){return fetch(this._baseUrl+"/cards",{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}deleteCard(e){return fetch(this._baseUrl+"/cards/"+e,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}editAvatar(e){return fetch(this._baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}likeCard(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}disLikeCard(e){return fetch(this._baseUrl+"/cards/likes/"+e,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(e.statusText)))}}({baseUrl:"https://around.nomoreparties.co/v1/cohort-3-en",headers:{authorization:"c123cc4f-c402-4ef4-8941-71c4e0fadea6","Content-Type":"application/json"}});class l extends e{setAction(e){this._submitHandler=e}setEventListeners(){super.setEventListeners(),this._popup.addEventListener("submit",(e=>{e.preventDefault(),this._submitHandler()}))}}const a=document.querySelector(".profile__image"),_=document.querySelector(".profile__image-change"),h=new l(".popup_type_delete"),u=new l(".popup_type_change-avatar"),c=document.querySelector(".profile__edit-button"),d=document.querySelector(".form__input"),m=document.querySelector(".form__input:last-of-type"),p=document.querySelector(".form_type_profile"),b=(document.querySelector(".elements").querySelector(".elements__list"),document.querySelector(".popup_type_change-avatar")),f=document.querySelector(".profile__add-button"),g=document.querySelector(".form_type_add-place"),y={formSelector:".form",inputSelector:".form__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__error_visible"};let v;a.onmouseover=function(){_.style.display="block",a.style.opacity="0.2"},_.onmouseover=function(){_.style.display="block",a.style.opacity="0.2"},a.onmouseout=function(){_.style.display="none",a.style.opacity="1"},h.setEventListeners(),a.addEventListener("click",(()=>{u.open()})),Promise.all([r.getCards(),r.getUserInfo()]).then((e=>{let[t,s]=e;v=s._id,j.renderItems(t),k.setUserInfo(s.name,s.about,s.avatar)}));const E=e=>{const t=new n(e,v,"#element-template",(()=>{q.open(e.name,e.link)}),(()=>{h.open(),h.setAction((()=>{r.deleteCard(t.getId()).then((e=>{console.log("delete"),t.removeCard(),h.close()}))}))}),(()=>{t.isLiked()?r.disLikeCard(t.getId()).then((e=>{t.setLikes(e.likes),console.log("res",e)})):r.likeCard(t.getId()).then((e=>{t.setLikes(e.likes),console.log("res",e)}))}));j.addItem(t.createElement())},k=new class{constructor(e){let{nameSelector:t,jobSelector:s}=e;this._name=document.querySelector(t),this._job=document.querySelector(s),this._userAvatar=document.querySelector(".profile__image")}getUserInfo(){return{name:this._name.textContent,job:this._job.textContent}}setUserInfo(e,t,s){this._name.textContent=e,this._job.textContent=t,this._userAvatar.src=s}}({nameSelector:".profile__info-title",jobSelector:".profile__info-class",avatarSelector:".profile__image"});new t(".popup_type_change-avatar",(e=>{r.editAvatar(e.avatar).then((e=>{console.log("res",e)}))})).setEventListeners();const L=new t(".popup_type_add-place",(e=>{L.loadingRender(!0,"Saving..."),r.addCard(e["card-title"],e.link).then((e=>{E(e)})).catch(console.log).finally((()=>L.loadingRender(!1))),L.close()})),S=new t(".popup_type_edit-profile",(e=>{S.loadingRender(!0,"Saving..."),r.editProfile(e.fullName,e.className).then((t=>{k.setUserInfo(e.fullName,e.className),console.log("res editProfile =>",t)})).catch(console.log).finally((()=>{S.close()}))}));S.setEventListeners(),L.setEventListeners();const C=new o(y,p),I=new o(y,g);new o(y,b).enableValidation();const q=new class extends e{constructor(e){super(e),this._caption=this._popup.querySelector(".popup__caption"),this._image=this._popup.querySelector(".popup__image")}open(e,t){super.open(),this._caption.textContent=e,this._image.src=t,this._image.alt="Photo of ".concat(e)}}(".popup_type_image-preview");q.setEventListeners();const j=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){e.forEach(this._renderer)}addItem(e){this._container.prepend(e)}}({renderer:E},".elements__list");c.addEventListener("click",(()=>{(()=>{const e=k.getUserInfo();d.value=e.name,m.value=e.job})(),S.open()})),C.enableValidation(),I.enableValidation(),f.addEventListener("click",(()=>{L.open(),I.resetValidation()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFPaEgsSUFBTWpCLEVBQ2xCNUQsS0FBSzZMLE9BQU8vRyxJQUFaLG1CQUE4QjlDLEVBQy9CLEdGeUlzQyw2QkFDekN3SSxFQUFjekosb0JBRWQsTUFBTW1KLEVBQVUsSUczSlQsTUFDTHBLLFlBQVksRUFBY2dNLEdBQWUsSUFBN0IsU0FBRUMsR0FBMkIsRUFDdkMvTCxLQUFLZ00sVUFBWUQsRUFDakIvTCxLQUFLaU0sV0FBYS9MLFNBQVNDLGNBQWMyTCxFQUMxQyxDQUVEM0IsWUFBWStCLEdBQ1ZBLEVBQU1wSyxRQUFROUIsS0FBS2dNLFVBQ3BCLENBRURwQixRQUFRdUIsR0FDTm5NLEtBQUtpTSxXQUFXRyxRQUFRRCxFQUN6QixHSCtJeUIsQ0FBRUosU0FBVXpCLEdBQWMsbUJBT3REbEIsRUFBa0J4SSxpQkFBaUIsU0FBUyxLQUxwQixNQUN0QixNQUFNeUwsRUFBY2pDLEVBQVMvQyxjQUM3QmdDLEVBQVVwSCxNQUFRb0ssRUFBWXJLLEtBQzlCc0gsRUFBZ0JySCxNQUFRb0ssRUFBWW5CLEdBQXBDLEVBR0FvQixHQUNBYixFQUFpQmhMLE1BQWpCLElBR0ZpTCxFQUFrQjVFLG1CQUNsQjZFLEVBQXFCN0UsbUJBRXJCMkMsRUFBZTdJLGlCQUFpQixTQUFTLEtBQ3ZDMEssRUFBYTdLLE9BQ2JrTCxFQUFxQjlFLGlCQUFyQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdDQvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0NC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJvamVjdDQvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3Byb2plY3Q0Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0NC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0NC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0NC8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcm9qZWN0NC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3Byb2plY3Q0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJvamVjdDQvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgb3BlbigpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoXCJwb3B1cF9vcGVuXCIpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInBvcHVwX29wZW5cIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChldnQpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicG9wdXBcIikgfHxcclxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInBvcHVwX19jbG9zZS1idXR0b25cIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlU3VibWl0KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2hhbmRsZVN1Ym1pdCA9IGhhbmRsZVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1cIik7XHJcbiAgICB0aGlzLl9idXR0b25TdWJtaXQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX3N1Ym1pdC1idXR0b24nKTtcclxuICAgIHRoaXMuX2J1dHRvblN1Ym1pdFRleHQgPSB0aGlzLl9idXR0b25TdWJtaXQudGV4dENvbnRlbnQ7XHJcbiAgICB0aGlzLl9pbnB1dHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2lucHV0XCIpXTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xyXG4gICAgdGhpcy5faW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBsb2FkaW5nUmVuZGVyKGlzTG9hZGluZywgdGV4dExvYWRpbmcgPSBcInNhdmluZy4uLlwiKSB7XHJcbiAgICBpc0xvYWRpbmcgPyB0aGlzLl9idXR0b25TdWJtaXQudGV4dENvbnRlbnQgPSB0ZXh0TG9hZGluZyA6IHRoaXMuX2J1dHRvblN1Ym1pdC50ZXh0Q29udGVudCA9IHRoaXMuX2J1dHRvblN1Ym1pdFRleHQ7XHJcbn1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBkYXRhLFxyXG4gICAgdXNlcklkLFxyXG4gICAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxyXG4gICAgaGFuZGxlRGVsZXRlLFxyXG4gICAgaGFuZGVMaWtlSWNvblxyXG4gICkge1xyXG4gICAgdGhpcy5fZWxlbWVudFRlbXBsYXRlID1cclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjYXJkVGVtcGxhdGVTZWxlY3RvcikuY29udGVudDtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5fdGV4dCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xyXG4gICAgdGhpcy5faGFuZGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcclxuICAgIHRoaXMuX2hhbmRsZURlbGV0ZSA9IGhhbmRsZURlbGV0ZTtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX2hhbmRlTGlrZUljb24gPSBoYW5kZUxpa2VJY29uO1xyXG4gIH1cclxuXHJcbiAgZ2V0SWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faWQ7XHJcbiAgfVxyXG5cclxuICBnZXRVcmwoKXtcclxuICAgIHJldHVybiB0aGlzLl9saW5rO1xyXG4gIH1cclxuICByZW1vdmVDYXJkID0gKCkgPT4ge1xyXG4gICAgdGhpcy5fZWxlbWVudENvbnRlbnQucmVtb3ZlKCk7XHJcblxyXG4gICAgdGhpcy5fZWxlbWVudENvbnRlbnQgPSBudWxsO1xyXG4gIH07XHJcblxyXG4gIF9hZGRFdmVudExpc3RlbmVycyA9ICgpID0+IHtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuICAgICAgdGhpcy5faGFuZGVJbWFnZUNsaWNrKHRoaXMuX2RhdGEpXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVEZWxldGUpO1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGVMaWtlSWNvbik7XHJcbiAgfTtcclxuXHJcbiAgX2dldEVsZW1lbnQgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudFRlbXBsYXRlLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudFwiKS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgc2V0TGlrZXMobmV3bGlrZXMpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbmV3bGlrZXM7XHJcbiAgICB0aGlzLl9lbGVtZW50Q29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX2xpa2VcIikudGV4dENvbnRlbnQgPVxyXG4gICAgICB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBjb25zdCBpc0xpa2VkQnlDdXJyZW50VXNlciA9IHRoaXMuaXNMaWtlZCgpO1xyXG4gICAgaWYgKGlzTGlrZWRCeUN1cnJlbnRVc2VyKSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZChcImVsZW1lbnRfX2J1dHRvbl9saWtlZFwiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImVsZW1lbnRfX2J1dHRvbl9saWtlZFwiKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlzTGlrZWQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZXMuZmluZCgocGVyc29uKSA9PiBwZXJzb24uX2lkID09PSB0aGlzLl91c2VySWQpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlRWxlbWVudCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnRDb250ZW50ID0gdGhpcy5fZ2V0RWxlbWVudCgpO1xyXG4gICAgY29uc3QgZWxlbWVudE5hbWUgPSB0aGlzLl9lbGVtZW50Q29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRfX25hbWVcIik7XHJcbiAgICBlbGVtZW50TmFtZS50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50Q29udGVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBcIi5lbGVtZW50X19saWtlLWJ1dHRvblwiXHJcbiAgICApO1xyXG4gICAgdGhpcy5fZWxlbWVudEltYWdlID0gdGhpcy5fZWxlbWVudENvbnRlbnQucXVlcnlTZWxlY3RvcihcIi5lbGVtZW50X19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnRDb250ZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLmVsZW1lbnRfX2RlbGV0ZS1idXR0b25cIlxyXG4gICAgKTtcclxuICAgIHRoaXMuX2VsZW1lbnRJbWFnZS5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XHJcbiAgICB0aGlzLl9lbGVtZW50SW1hZ2UuYWx0ID0gYFBpY3R1cmUgb2YgJHt0aGlzLl9kYXRhLm5hbWV9YDtcclxuXHJcbiAgICBpZiAodGhpcy5fb3duZXJJZCAhPT0gdGhpcy5fdXNlcklkKSB7XHJcbiAgICAgIHRoaXMuX2VsZW1lbnRDb250ZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgICAgXCIuZWxlbWVudF9fZGVsZXRlLWJ1dHRvblwiXHJcbiAgICAgICkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRMaWtlcyh0aGlzLl9saWtlcyk7XHJcbiAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50Q29udGVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fc2V0dGluZ3MgPSBzZXR0aW5ncztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBbXHJcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fc2V0dGluZ3MuaW5wdXRTZWxlY3RvciksXHJcbiAgICBdO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgdGhpcy5fc2V0dGluZ3Muc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlSW5wdXRFcnJvciA9IChpbnB1dCkgPT4ge1xyXG4gICAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBfc2hvd0lucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI1wiICsgaW5wdXQuaWQgKyBcIi1lcnJvclwiXHJcbiAgICApO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9zZXR0aW5ncy5lcnJvckNsYXNzKTtcclxuICB9O1xyXG5cclxuICBfaGlkZUlucHV0RXJyb3IgPSAoaW5wdXQpID0+IHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiI1wiICsgaW5wdXQuaWQgKyBcIi1lcnJvclwiXHJcbiAgICApO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gXCJcIjtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmVycm9yQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIF9lbmFibGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX3NldHRpbmdzLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH07XHJcblxyXG4gIGRpc2FibGVCdXR0b24gPSAoKSA9PiB7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5fc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgX3RvZ2dsZUJ1dHRvbiA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5faGFzVmFsaWRJbnB1dHMoKSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbigpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYXNWYWxpZElucHV0cyA9ICgpID0+IHtcclxuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3QuZXZlcnkoKGlucHV0KSA9PiBpbnB1dC52YWxpZGl0eS52YWxpZCA9PT0gdHJ1ZSk7XHJcbiAgfTtcclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl90b2dnbGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b24oKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvbigpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2godGhpcy5faGlkZUlucHV0RXJyb3IpO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XHJcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvdXNlcnMvbWVcIiwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpO1xyXG4gIH1cclxuXHJcbiAgZ2V0Q2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpKTtcclxuICB9XHJcblxyXG4gIGVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGFib3V0LFxyXG4gICAgICB9KSxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpKTtcclxuICB9XHJcblxyXG4gIGFkZENhcmQobmFtZSwgbGluaykge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi9jYXJkc1wiLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGxpbmssXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHMvXCIgKyBjYXJkSUQsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpO1xyXG4gIH1cclxuICBlZGl0QXZhdGFyKGF2YXRhcikge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMuX2Jhc2VVcmwgKyBcIi91c2Vycy9tZS9hdmF0YXJcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKChyZXMpID0+IChyZXMub2sgPyByZXMuanNvbigpIDogUHJvbWlzZS5yZWplY3QocmVzLnN0YXR1c1RleHQpKSk7XHJcbiAgfVxyXG5cclxuICBsaWtlQ2FyZChjYXJkSUQpIHtcclxuICAgIHJldHVybiBmZXRjaCh0aGlzLl9iYXNlVXJsICsgXCIvY2FyZHMvbGlrZXMvXCIgKyBjYXJkSUQsIHtcclxuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgfSkudGhlbigocmVzKSA9PiAocmVzLm9rID8gcmVzLmpzb24oKSA6IFByb21pc2UucmVqZWN0KHJlcy5zdGF0dXNUZXh0KSkpO1xyXG4gIH1cclxuXHJcbiAgZGlzTGlrZUNhcmQoY2FyZElEKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy5fYmFzZVVybCArIFwiL2NhcmRzL2xpa2VzL1wiICsgY2FyZElELCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgIH0pLnRoZW4oKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMuc3RhdHVzVGV4dCkpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBhcGkgPSBuZXcgQXBpKHtcclxuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTMtZW5cIixcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiBcImMxMjNjYzRmLWM0MDItNGVmNC04OTQxLTcxYzRlMGZhZGVhNlwiLFxyXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXHJcbiAgfSxcclxufSk7XHJcbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhTdWJtaXQgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgc2V0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5fc3VibWl0SGFuZGxlciA9IGFjdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRIYW5kbGVyKCk7XHJcbiAgICAgIFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XHJcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qc1wiO1xyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcclxuaW1wb3J0IHsgUG9wdXBXaXRoU3VibWl0IH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoU3VibWl0LmpzXCI7XHJcbmNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2VcIik7XHJcbmNvbnN0IGF2YXRhckNoYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faW1hZ2UtY2hhbmdlXCIpO1xyXG5jb25zdCBjb25maXJtUG9wdXAgPSBuZXcgUG9wdXBXaXRoU3VibWl0KFwiLnBvcHVwX3R5cGVfZGVsZXRlXCIpO1xyXG5jb25zdCBjb25maXJtY2hhbmdlID0gbmV3IFBvcHVwV2l0aFN1Ym1pdChcIi5wb3B1cF90eXBlX2NoYW5nZS1hdmF0YXJcIik7XHJcbmNvbnN0IHByb2ZpbGVPcGVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuY29uc3QgbmFtZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dFwiKTtcclxuY29uc3Qgb2NjdXBhdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dDpsYXN0LW9mLXR5cGVcIik7XHJcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX3R5cGVfcHJvZmlsZVwiKTtcclxuY29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzXCIpO1xyXG5jb25zdCBlbGVtZW50TGlzdCA9IGVsZW1lbnRzLnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2xpc3RcIik7XHJcbmNvbnN0IGF2YXRhclBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF90eXBlX2NoYW5nZS1hdmF0YXJcIik7XHJcbmNvbnN0IGFkZFBsYWNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpO1xyXG5jb25zdCBwbGFjZUZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fdHlwZV9hZGQtcGxhY2VcIik7XHJcbmNvbnN0IHNldHRpbmdzID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIuZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLmZvcm1fX2lucHV0XCIsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLnBvcHVwX19zdWJtaXQtYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJwb3B1cF9fc3VibWl0LWJ1dHRvbl9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX19lcnJvcl92aXNpYmxlXCIsXHJcbn07XHJcbmNvbnN0IGNhcmRUZW1wbGF0ZVNlbGVjdG9yID0gXCIjZWxlbWVudC10ZW1wbGF0ZVwiO1xyXG5hdmF0YXIub25tb3VzZW92ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgYXZhdGFyQ2hhbmdlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgYXZhdGFyLnN0eWxlLm9wYWNpdHkgPSBcIjAuMlwiO1xyXG59O1xyXG5hdmF0YXJDaGFuZ2Uub25tb3VzZW92ZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgYXZhdGFyQ2hhbmdlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgYXZhdGFyLnN0eWxlLm9wYWNpdHkgPSBcIjAuMlwiO1xyXG59O1xyXG5hdmF0YXIub25tb3VzZW91dCA9IGZ1bmN0aW9uICgpIHtcclxuICBhdmF0YXJDaGFuZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gIGF2YXRhci5zdHlsZS5vcGFjaXR5ID0gXCIxXCI7XHJcbn07XHJcblxyXG5jb25maXJtUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuYXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uZmlybWNoYW5nZS5vcGVuKCk7XHJcbn0pO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcblByb21pc2UuYWxsKFthcGkuZ2V0Q2FyZHMoKSwgYXBpLmdldFVzZXJJbmZvKCldKS50aGVuKFxyXG4gIChbY2FyZERhdGEsIHVzZXJEYXRhXSkgPT4ge1xyXG4gICAgdXNlcklkID0gdXNlckRhdGEuX2lkO1xyXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcyhjYXJkRGF0YSk7XHJcbiAgICB1c2VySW5mby5zZXRVc2VySW5mbyh1c2VyRGF0YS5uYW1lLCB1c2VyRGF0YS5hYm91dCwgdXNlckRhdGEuYXZhdGFyKTtcclxuICB9XHJcbik7XHJcblxyXG5jb25zdCByZW5kZXJDYXJkID0gKGRhdGEpID0+IHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICBkYXRhLFxyXG4gICAgdXNlcklkLFxyXG4gICAgY2FyZFRlbXBsYXRlU2VsZWN0b3IsXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIGFkZFBvcHVwSW1hZ2Uub3BlbihkYXRhLm5hbWUsIGRhdGEubGluayk7XHJcbiAgICB9LFxyXG5cclxuICAgICgpID0+IHtcclxuICAgICAgY29uZmlybVBvcHVwLm9wZW4oKTtcclxuICAgICAgY29uZmlybVBvcHVwLnNldEFjdGlvbigoKSA9PiB7XHJcbiAgICAgICAgYXBpLmRlbGV0ZUNhcmQoY2FyZC5nZXRJZCgpKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZGVsZXRlXCIpO1xyXG4gICAgICAgICAgY2FyZC5yZW1vdmVDYXJkKCk7XHJcbiAgICAgICAgICBjb25maXJtUG9wdXAuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgKCkgPT4ge1xyXG4gICAgICBpZiAoY2FyZC5pc0xpa2VkKCkpIHtcclxuICAgICAgICBhcGkuZGlzTGlrZUNhcmQoY2FyZC5nZXRJZCgpKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICAgIGNhcmQuc2V0TGlrZXMocmVzLmxpa2VzKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVzXCIsIHJlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXBpLmxpa2VDYXJkKGNhcmQuZ2V0SWQoKSkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICBjYXJkLnNldExpa2VzKHJlcy5saWtlcyk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcInJlc1wiLCByZXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgKTtcclxuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZC5jcmVhdGVFbGVtZW50KCkpO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQWRkQ2FyZFN1Ym1pdCA9IChkYXRhKSA9PiB7XHJcbiAgYWRkQ2FyZFBvcHVwLmxvYWRpbmdSZW5kZXIodHJ1ZSwgXCJTYXZpbmcuLi5cIik7XHJcbiAgYXBpXHJcbiAgICAuYWRkQ2FyZChkYXRhW1wiY2FyZC10aXRsZVwiXSwgZGF0YS5saW5rKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICByZW5kZXJDYXJkKHJlcywgZWxlbWVudExpc3QpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaChjb25zb2xlLmxvZylcclxuICAgIC5maW5hbGx5KCgpID0+IGFkZENhcmRQb3B1cC5sb2FkaW5nUmVuZGVyKGZhbHNlKSk7XHJcblxyXG4gIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xyXG59O1xyXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbyh7XHJcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19pbmZvLXRpdGxlXCIsXHJcbiAgam9iU2VsZWN0b3I6IFwiLnByb2ZpbGVfX2luZm8tY2xhc3NcIixcclxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9faW1hZ2VcIixcclxufSk7XHJcblxyXG5jb25zdCBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCA9IChkYXRhKSA9PiB7XHJcbiAgZWRpdFByb2ZpbGVQb3B1cC5sb2FkaW5nUmVuZGVyKHRydWUsIFwiU2F2aW5nLi4uXCIpO1xyXG4gIGFwaVxyXG4gICAgLmVkaXRQcm9maWxlKGRhdGEuZnVsbE5hbWUsIGRhdGEuY2xhc3NOYW1lKVxyXG4gICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhkYXRhLmZ1bGxOYW1lLCBkYXRhLmNsYXNzTmFtZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicmVzIGVkaXRQcm9maWxlID0+XCIsIHJlcyk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGNvbnNvbGUubG9nKVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBlZGl0UHJvZmlsZVBvcHVwLmNsb3NlKCksICgpID0+IGFkZENhcmRQb3B1cC5sb2FkaW5nUmVuZGVyKGZhbHNlKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuY29uc3QgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdCA9IChkYXRhKSA9PiB7XHJcbiAgYXBpLmVkaXRBdmF0YXIoZGF0YS5hdmF0YXIpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJyZXNcIiwgcmVzKTtcclxuICB9KTtcclxufTtcclxuY29uc3QgcG9wdXBDaGFuZ2VBdmF0ckltYWdlID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIucG9wdXBfdHlwZV9jaGFuZ2UtYXZhdGFyXCIsXHJcbiAgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdFxyXG4pO1xyXG5wb3B1cENoYW5nZUF2YXRySW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuY29uc3QgYWRkQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0oXHJcbiAgXCIucG9wdXBfdHlwZV9hZGQtcGxhY2VcIixcclxuICBoYW5kbGVBZGRDYXJkU3VibWl0XHJcbik7XHJcbmNvbnN0IGVkaXRQcm9maWxlUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIi5wb3B1cF90eXBlX2VkaXQtcHJvZmlsZVwiLFxyXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0XHJcbik7XHJcbmVkaXRQcm9maWxlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmFkZENhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBwcm9maWxlRm9ybSk7XHJcbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3Ioc2V0dGluZ3MsIHBsYWNlRm9ybSk7XHJcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgYXZhdGFyUG9wdXApO1xyXG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuY29uc3QgYWRkUG9wdXBJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIi5wb3B1cF90eXBlX2ltYWdlLXByZXZpZXdcIik7XHJcbmFkZFBvcHVwSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7IHJlbmRlcmVyOiByZW5kZXJDYXJkIH0sIFwiLmVsZW1lbnRzX19saXN0XCIpO1xyXG5cclxuY29uc3QgZmlsbFByb2ZpbGVGb3JtID0gKCkgPT4ge1xyXG4gIGNvbnN0IHByb2ZpbGVEYXRhID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcclxuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxlRGF0YS5uYW1lO1xyXG4gIG9jY3VwYXRpb25JbnB1dC52YWx1ZSA9IHByb2ZpbGVEYXRhLmpvYjtcclxufTtcclxucHJvZmlsZU9wZW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBmaWxsUHJvZmlsZUZvcm0oKTtcclxuICBlZGl0UHJvZmlsZVBvcHVwLm9wZW4oKTtcclxufSk7XHJcblxyXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbmFkZFBsYWNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgYWRkQ2FyZFBvcHVwLm9wZW4oKTtcclxuICBhZGRDYXJkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcclxufSk7XHJcbiIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3IoeyBuYW1lU2VsZWN0b3IsIGpvYlNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgICBqb2I6IHRoaXMuX2pvYi50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhmdWxsTmFtZSwgY2xhc3NOYW1lLCBhdmF0YXIpIHtcclxuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSBmdWxsTmFtZTtcclxuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGNsYXNzTmFtZTtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gYXZhdGFyO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jYXB0aW9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9fY2FwdGlvblwiKTtcclxuICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1hZ2VcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuXHJcbiAgICB0aGlzLl9jYXB0aW9uLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9pbWFnZS5hbHQgPSBgUGhvdG8gb2YgJHtuYW1lfWA7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcclxuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNsYXNzU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNsYXNzU2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2godGhpcy5fcmVuZGVyZXIpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlBvcHVwIiwiY29uc3RydWN0b3IiLCJwb3B1cFNlbGVjdG9yIiwidGhpcyIsIl9wb3B1cCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJldnQiLCJrZXkiLCJjbG9zZSIsIm9wZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlU3VibWl0IiwiX2Zvcm0iLCJfYnV0dG9uU3VibWl0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9idXR0b25TdWJtaXRUZXh0IiwidGV4dENvbnRlbnQiLCJfaW5wdXRzIiwiX2dldElucHV0VmFsdWVzIiwidmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwibmFtZSIsInZhbHVlIiwiZSIsInByZXZlbnREZWZhdWx0IiwibG9hZGluZ1JlbmRlciIsImlzTG9hZGluZyIsInRleHRMb2FkaW5nIiwicmVzZXQiLCJDYXJkIiwiZGF0YSIsInVzZXJJZCIsImNhcmRUZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZSIsImhhbmRlTGlrZUljb24iLCJfZWxlbWVudENvbnRlbnQiLCJfZWxlbWVudEltYWdlIiwiX2hhbmRlSW1hZ2VDbGljayIsIl9kYXRhIiwiX2RlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVEZWxldGUiLCJfbGlrZUJ1dHRvbiIsIl9oYW5kZUxpa2VJY29uIiwiX2VsZW1lbnRUZW1wbGF0ZSIsImNsb25lTm9kZSIsImNvbnRlbnQiLCJfdGV4dCIsIl9saW5rIiwibGluayIsIl9pZCIsIl91c2VySWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX2xpa2VzIiwibGlrZXMiLCJnZXRJZCIsImdldFVybCIsInNldExpa2VzIiwibmV3bGlrZXMiLCJsZW5ndGgiLCJpc0xpa2VkIiwiZmluZCIsInBlcnNvbiIsImNyZWF0ZUVsZW1lbnQiLCJfZ2V0RWxlbWVudCIsInNyYyIsImFsdCIsInN0eWxlIiwiZGlzcGxheSIsIl9hZGRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5ncyIsImZvcm1FbGVtZW50IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsImlkIiwiX3NldHRpbmdzIiwiaW5wdXRFcnJvckNsYXNzIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckNsYXNzIiwiX3N1Ym1pdEJ1dHRvbiIsImRpc2FibGVkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9oYXNWYWxpZElucHV0cyIsIl9lbmFibGVCdXR0b24iLCJkaXNhYmxlQnV0dG9uIiwiX2lucHV0TGlzdCIsImV2ZXJ5IiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX3RvZ2dsZUlucHV0RXJyb3IiLCJfdG9nZ2xlQnV0dG9uIiwicmVzZXRWYWxpZGF0aW9uIiwiZW5hYmxlVmFsaWRhdGlvbiIsImFwaSIsIm9wdGlvbnMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJnZXRVc2VySW5mbyIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXNUZXh0IiwiZ2V0Q2FyZHMiLCJlZGl0UHJvZmlsZSIsImFib3V0IiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJhZGRDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJRCIsImVkaXRBdmF0YXIiLCJhdmF0YXIiLCJsaWtlQ2FyZCIsImRpc0xpa2VDYXJkIiwiYXV0aG9yaXphdGlvbiIsIlBvcHVwV2l0aFN1Ym1pdCIsInNldEFjdGlvbiIsImFjdGlvbiIsIl9zdWJtaXRIYW5kbGVyIiwiYXZhdGFyQ2hhbmdlIiwiY29uZmlybVBvcHVwIiwiY29uZmlybWNoYW5nZSIsInByb2ZpbGVPcGVuQnV0dG9uIiwibmFtZUlucHV0Iiwib2NjdXBhdGlvbklucHV0IiwicHJvZmlsZUZvcm0iLCJhdmF0YXJQb3B1cCIsImFkZFBsYWNlQnV0dG9uIiwicGxhY2VGb3JtIiwiZm9ybVNlbGVjdG9yIiwib25tb3VzZW92ZXIiLCJvcGFjaXR5Iiwib25tb3VzZW91dCIsImFsbCIsImNhcmREYXRhIiwidXNlckRhdGEiLCJzZWN0aW9uIiwicmVuZGVySXRlbXMiLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwicmVuZGVyQ2FyZCIsImNhcmQiLCJhZGRQb3B1cEltYWdlIiwiY29uc29sZSIsImxvZyIsInJlbW92ZUNhcmQiLCJhZGRJdGVtIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJfbmFtZSIsIl9qb2IiLCJfdXNlckF2YXRhciIsImpvYiIsImZ1bGxOYW1lIiwiY2xhc3NOYW1lIiwiYXZhdGFyU2VsZWN0b3IiLCJhZGRDYXJkUG9wdXAiLCJjYXRjaCIsImZpbmFsbHkiLCJlZGl0UHJvZmlsZVBvcHVwIiwiZWRpdEZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsIl9jYXB0aW9uIiwiX2ltYWdlIiwiY2xhc3NTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW1zIiwiZWxlbWVudCIsInByZXBlbmQiLCJwcm9maWxlRGF0YSIsImZpbGxQcm9maWxlRm9ybSJdLCJzb3VyY2VSb290IjoiIn0=